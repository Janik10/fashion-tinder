{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { create } from 'zustand';\nimport * as SecureStore from 'expo-secure-store';\nexport var useAuthStore = create(function (set) {\n  return {\n    token: null,\n    user: null,\n    isLoading: false,\n    login: function () {\n      var _login = _asyncToGenerator(function* (email, password) {\n        try {\n          var fakeToken = 'test-token-123';\n          var fakeUser = {\n            id: '1',\n            email: email || 'test@example.com',\n            username: 'testuser'\n          };\n          yield SecureStore.setItemAsync('token', fakeToken);\n          set({\n            token: fakeToken,\n            user: fakeUser,\n            isLoading: false\n          });\n          console.log('Login successful', {\n            token: fakeToken,\n            user: fakeUser\n          });\n        } catch (error) {\n          console.error('Login error:', error);\n          throw error;\n        }\n      });\n      function login(_x, _x2) {\n        return _login.apply(this, arguments);\n      }\n      return login;\n    }(),\n    register: function () {\n      var _register = _asyncToGenerator(function* (email, username, password) {\n        try {\n          var fakeToken = 'test-token-123';\n          var fakeUser = {\n            id: '1',\n            email: email || 'test@example.com',\n            username: username || 'testuser'\n          };\n          yield SecureStore.setItemAsync('token', fakeToken);\n          set({\n            token: fakeToken,\n            user: fakeUser,\n            isLoading: false\n          });\n          console.log('Registration successful', {\n            token: fakeToken,\n            user: fakeUser\n          });\n        } catch (error) {\n          console.error('Registration error:', error);\n          throw error;\n        }\n      });\n      function register(_x3, _x4, _x5) {\n        return _register.apply(this, arguments);\n      }\n      return register;\n    }(),\n    logout: function () {\n      var _logout = _asyncToGenerator(function* () {\n        yield SecureStore.deleteItemAsync('token');\n        set({\n          token: null,\n          user: null\n        });\n      });\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n      return logout;\n    }()\n  };\n});","map":{"version":3,"names":["create","SecureStore","useAuthStore","set","token","user","isLoading","login","_login","_asyncToGenerator","email","password","fakeToken","fakeUser","id","username","setItemAsync","console","log","error","_x","_x2","apply","arguments","register","_register","_x3","_x4","_x5","logout","_logout","deleteItemAsync"],"sources":["E:/fashion-tinder/frontend/src/store/auth.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport * as SecureStore from 'expo-secure-store';\r\nimport { API_URL } from '../config';\r\n\r\ninterface AuthState {\r\n  token: string | null;\r\n  user: any | null;\r\n  isLoading: boolean;\r\n  setToken: (token: string | null) => void;\r\n  login: (email: string, password: string) => Promise<void>;\r\n  register: (email: string, username: string, password: string) => Promise<void>;\r\n  logout: () => Promise<void>;\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>((set) => ({\r\n  token: null,\r\n  user: null,\r\n  isLoading: false,\r\n  login: async (email: string, password: string) => {\r\n    try {\r\n      // Temporary: Always succeed with test user\r\n      const fakeToken = 'test-token-123';\r\n      const fakeUser = {\r\n        id: '1',\r\n        email: email || 'test@example.com',\r\n        username: 'testuser',\r\n      };\r\n      \r\n      await SecureStore.setItemAsync('token', fakeToken);\r\n      set({ token: fakeToken, user: fakeUser, isLoading: false });\r\n      console.log('Login successful', { token: fakeToken, user: fakeUser });\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  register: async (email: string, username: string, password: string) => {\r\n    try {\r\n      // Temporary: Always succeed with test user\r\n      const fakeToken = 'test-token-123';\r\n      const fakeUser = {\r\n        id: '1',\r\n        email: email || 'test@example.com',\r\n        username: username || 'testuser',\r\n      };\r\n      \r\n      await SecureStore.setItemAsync('token', fakeToken);\r\n      set({ token: fakeToken, user: fakeUser, isLoading: false });\r\n      console.log('Registration successful', { token: fakeToken, user: fakeUser });\r\n    } catch (error) {\r\n      console.error('Registration error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  logout: async () => {\r\n    await SecureStore.deleteItemAsync('token');\r\n    set({ token: null, user: null });\r\n  },\r\n}));"],"mappings":";AAAA,SAASA,MAAM,QAAQ,SAAS;AAChC,OAAO,KAAKC,WAAW,MAAM,mBAAmB;AAahD,OAAO,IAAMC,YAAY,GAAGF,MAAM,CAAY,UAACG,GAAG;EAAA,OAAM;IACtDC,KAAK,EAAE,IAAI;IACXC,IAAI,EAAE,IAAI;IACVC,SAAS,EAAE,KAAK;IAChBC,KAAK;MAAA,IAAAC,MAAA,GAAAC,iBAAA,CAAE,WAAOC,KAAa,EAAEC,QAAgB,EAAK;QAChD,IAAI;UAEF,IAAMC,SAAS,GAAG,gBAAgB;UAClC,IAAMC,QAAQ,GAAG;YACfC,EAAE,EAAE,GAAG;YACPJ,KAAK,EAAEA,KAAK,IAAI,kBAAkB;YAClCK,QAAQ,EAAE;UACZ,CAAC;UAED,MAAMd,WAAW,CAACe,YAAY,CAAC,OAAO,EAAEJ,SAAS,CAAC;UAClDT,GAAG,CAAC;YAAEC,KAAK,EAAEQ,SAAS;YAAEP,IAAI,EAAEQ,QAAQ;YAAEP,SAAS,EAAE;UAAM,CAAC,CAAC;UAC3DW,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE;YAAEd,KAAK,EAAEQ,SAAS;YAAEP,IAAI,EAAEQ;UAAS,CAAC,CAAC;QACvE,CAAC,CAAC,OAAOM,KAAK,EAAE;UACdF,OAAO,CAACE,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;UACpC,MAAMA,KAAK;QACb;MACF,CAAC;MAAA,SAjBDZ,KAAKA,CAAAa,EAAA,EAAAC,GAAA;QAAA,OAAAb,MAAA,CAAAc,KAAA,OAAAC,SAAA;MAAA;MAAA,OAALhB,KAAK;IAAA,GAiBJ;IACDiB,QAAQ;MAAA,IAAAC,SAAA,GAAAhB,iBAAA,CAAE,WAAOC,KAAa,EAAEK,QAAgB,EAAEJ,QAAgB,EAAK;QACrE,IAAI;UAEF,IAAMC,SAAS,GAAG,gBAAgB;UAClC,IAAMC,QAAQ,GAAG;YACfC,EAAE,EAAE,GAAG;YACPJ,KAAK,EAAEA,KAAK,IAAI,kBAAkB;YAClCK,QAAQ,EAAEA,QAAQ,IAAI;UACxB,CAAC;UAED,MAAMd,WAAW,CAACe,YAAY,CAAC,OAAO,EAAEJ,SAAS,CAAC;UAClDT,GAAG,CAAC;YAAEC,KAAK,EAAEQ,SAAS;YAAEP,IAAI,EAAEQ,QAAQ;YAAEP,SAAS,EAAE;UAAM,CAAC,CAAC;UAC3DW,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE;YAAEd,KAAK,EAAEQ,SAAS;YAAEP,IAAI,EAAEQ;UAAS,CAAC,CAAC;QAC9E,CAAC,CAAC,OAAOM,KAAK,EAAE;UACdF,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;UAC3C,MAAMA,KAAK;QACb;MACF,CAAC;MAAA,SAjBDK,QAAQA,CAAAE,GAAA,EAAAC,GAAA,EAAAC,GAAA;QAAA,OAAAH,SAAA,CAAAH,KAAA,OAAAC,SAAA;MAAA;MAAA,OAARC,QAAQ;IAAA,GAiBP;IACDK,MAAM;MAAA,IAAAC,OAAA,GAAArB,iBAAA,CAAE,aAAY;QAClB,MAAMR,WAAW,CAAC8B,eAAe,CAAC,OAAO,CAAC;QAC1C5B,GAAG,CAAC;UAAEC,KAAK,EAAE,IAAI;UAAEC,IAAI,EAAE;QAAK,CAAC,CAAC;MAClC,CAAC;MAAA,SAHDwB,MAAMA,CAAA;QAAA,OAAAC,OAAA,CAAAR,KAAA,OAAAC,SAAA;MAAA;MAAA,OAANM,MAAM;IAAA;EAIR,CAAC;AAAA,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}