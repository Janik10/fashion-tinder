{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { create } from 'zustand';\nimport { useAuthStore } from \"./auth\";\nimport { API_URL } from \"../config\";\nexport var useItemStore = create(function (set, get) {\n  return {\n    feed: [],\n    savedItems: [],\n    isLoading: false,\n    error: null,\n    loadFeed: function () {\n      var _loadFeed = _asyncToGenerator(function* (cursor) {\n        try {\n          set({\n            isLoading: true,\n            error: null\n          });\n          var sampleItems = [{\n            id: '1',\n            name: 'Classic White Sneakers',\n            brand: 'Nike',\n            price: 99.99,\n            currency: 'USD',\n            images: ['https://placehold.co/400x600/png'],\n            tags: ['shoes', 'casual', 'streetwear'],\n            gender: 'unisex',\n            season: 'all'\n          }, {\n            id: '2',\n            name: 'Denim Jacket',\n            brand: 'Levi\\'s',\n            price: 129.99,\n            currency: 'USD',\n            images: ['https://placehold.co/400x600/png'],\n            tags: ['outerwear', 'casual', 'denim'],\n            gender: 'unisex',\n            season: 'spring'\n          }, {\n            id: '3',\n            name: 'Summer Dress',\n            brand: 'Zara',\n            price: 79.99,\n            currency: 'USD',\n            images: ['https://placehold.co/400x600/png'],\n            tags: ['dress', 'summer', 'casual'],\n            gender: 'women',\n            season: 'summer'\n          }];\n          set({\n            feed: cursor ? [].concat(_toConsumableArray(get().feed), sampleItems) : sampleItems,\n            isLoading: false\n          });\n        } catch (error) {\n          set({\n            isLoading: false,\n            error: error instanceof Error ? error.message : 'Failed to load feed'\n          });\n          throw error;\n        }\n      });\n      function loadFeed(_x) {\n        return _loadFeed.apply(this, arguments);\n      }\n      return loadFeed;\n    }(),\n    loadSavedItems: function () {\n      var _loadSavedItems = _asyncToGenerator(function* () {\n        try {\n          set({\n            isLoading: true,\n            error: null\n          });\n          var token = useAuthStore.getState().token;\n          var response = yield fetch(`${API_URL}/me/saves`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          var data = yield response.json();\n          if (!response.ok) throw new Error(data.message);\n          set({\n            savedItems: data,\n            isLoading: false\n          });\n        } catch (error) {\n          set({\n            isLoading: false,\n            error: error instanceof Error ? error.message : 'Failed to load saved items'\n          });\n          throw error;\n        }\n      });\n      function loadSavedItems() {\n        return _loadSavedItems.apply(this, arguments);\n      }\n      return loadSavedItems;\n    }(),\n    likeItem: function () {\n      var _likeItem = _asyncToGenerator(function* (itemId) {\n        try {\n          set({\n            error: null\n          });\n          var token = useAuthStore.getState().token;\n          var response = yield fetch(`${API_URL}/interactions/like/${itemId}`, {\n            method: 'POST',\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          if (!response.ok) {\n            var data = yield response.json();\n            throw new Error(data.message);\n          }\n        } catch (error) {\n          set({\n            error: error instanceof Error ? error.message : 'Failed to like item'\n          });\n          throw error;\n        }\n      });\n      function likeItem(_x2) {\n        return _likeItem.apply(this, arguments);\n      }\n      return likeItem;\n    }(),\n    passItem: function () {\n      var _passItem = _asyncToGenerator(function* (itemId) {\n        try {\n          set({\n            error: null\n          });\n          var token = useAuthStore.getState().token;\n          var response = yield fetch(`${API_URL}/interactions/pass/${itemId}`, {\n            method: 'POST',\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          if (!response.ok) {\n            var data = yield response.json();\n            throw new Error(data.message);\n          }\n        } catch (error) {\n          set({\n            error: error instanceof Error ? error.message : 'Failed to pass item'\n          });\n          throw error;\n        }\n      });\n      function passItem(_x3) {\n        return _passItem.apply(this, arguments);\n      }\n      return passItem;\n    }(),\n    saveItem: function () {\n      var _saveItem = _asyncToGenerator(function* (itemId) {\n        try {\n          set({\n            error: null\n          });\n          var token = useAuthStore.getState().token;\n          var response = yield fetch(`${API_URL}/interactions/save/${itemId}`, {\n            method: 'POST',\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          if (!response.ok) {\n            var data = yield response.json();\n            throw new Error(data.message);\n          }\n          yield get().loadSavedItems();\n        } catch (error) {\n          set({\n            error: error instanceof Error ? error.message : 'Failed to save item'\n          });\n          throw error;\n        }\n      });\n      function saveItem(_x4) {\n        return _saveItem.apply(this, arguments);\n      }\n      return saveItem;\n    }()\n  };\n});","map":{"version":3,"names":["create","useAuthStore","API_URL","useItemStore","set","get","feed","savedItems","isLoading","error","loadFeed","_loadFeed","_asyncToGenerator","cursor","sampleItems","id","name","brand","price","currency","images","tags","gender","season","concat","_toConsumableArray","Error","message","_x","apply","arguments","loadSavedItems","_loadSavedItems","token","getState","response","fetch","headers","Authorization","data","json","ok","likeItem","_likeItem","itemId","method","_x2","passItem","_passItem","_x3","saveItem","_saveItem","_x4"],"sources":["E:/fashion-tinder/frontend/src/store/items.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport type { Item } from '../types/item';\r\nimport { useAuthStore } from './auth';\r\nimport { API_URL } from '../config';\r\nimport { StateCreator } from 'zustand';\r\n\r\ninterface ItemState {\r\n  feed: Item[];\r\n  savedItems: Item[];\r\n  isLoading: boolean;\r\n  error: string | null;\r\n  loadFeed: (cursor?: string) => Promise<void>;\r\n  loadSavedItems: () => Promise<void>;\r\n  likeItem: (itemId: string) => Promise<void>;\r\n  passItem: (itemId: string) => Promise<void>;\r\n  saveItem: (itemId: string) => Promise<void>;\r\n}\r\n\r\nexport const useItemStore = create<ItemState>((set: any, get: any) => ({\r\n  feed: [],\r\n  savedItems: [],\r\n  isLoading: false,\r\n  error: null,\r\n\r\n  loadFeed: async (cursor?: string) => {\r\n    try {\r\n      set({ isLoading: true, error: null });\r\n      \r\n      // Temporary: Return sample data instead of making API call\r\n      const sampleItems = [\r\n        {\r\n          id: '1',\r\n          name: 'Classic White Sneakers',\r\n          brand: 'Nike',\r\n          price: 99.99,\r\n          currency: 'USD',\r\n          images: ['https://placehold.co/400x600/png'],\r\n          tags: ['shoes', 'casual', 'streetwear'],\r\n          gender: 'unisex',\r\n          season: 'all',\r\n        },\r\n        {\r\n          id: '2',\r\n          name: 'Denim Jacket',\r\n          brand: 'Levi\\'s',\r\n          price: 129.99,\r\n          currency: 'USD',\r\n          images: ['https://placehold.co/400x600/png'],\r\n          tags: ['outerwear', 'casual', 'denim'],\r\n          gender: 'unisex',\r\n          season: 'spring',\r\n        },\r\n        {\r\n          id: '3',\r\n          name: 'Summer Dress',\r\n          brand: 'Zara',\r\n          price: 79.99,\r\n          currency: 'USD',\r\n          images: ['https://placehold.co/400x600/png'],\r\n          tags: ['dress', 'summer', 'casual'],\r\n          gender: 'women',\r\n          season: 'summer',\r\n        },\r\n      ];\r\n\r\n      set({\r\n        feed: cursor ? [...get().feed, ...sampleItems] : sampleItems,\r\n        isLoading: false,\r\n      });\r\n    } catch (error) {\r\n      set({\r\n        isLoading: false,\r\n        error: error instanceof Error ? error.message : 'Failed to load feed',\r\n      });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  loadSavedItems: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null });\r\n      const token = useAuthStore.getState().token;\r\n      const response = await fetch(`${API_URL}/me/saves`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (!response.ok) throw new Error(data.message);\r\n\r\n      set({ savedItems: data, isLoading: false });\r\n    } catch (error) {\r\n      set({\r\n        isLoading: false,\r\n        error: error instanceof Error ? error.message : 'Failed to load saved items',\r\n      });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  likeItem: async (itemId: string) => {\r\n    try {\r\n      set({ error: null });\r\n      const token = useAuthStore.getState().token;\r\n      const response = await fetch(`${API_URL}/interactions/like/${itemId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.message);\r\n      }\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to like item',\r\n      });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  passItem: async (itemId: string) => {\r\n    try {\r\n      set({ error: null });\r\n      const token = useAuthStore.getState().token;\r\n      const response = await fetch(`${API_URL}/interactions/pass/${itemId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.message);\r\n      }\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to pass item',\r\n      });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  saveItem: async (itemId: string) => {\r\n    try {\r\n      set({ error: null });\r\n      const token = useAuthStore.getState().token;\r\n      const response = await fetch(`${API_URL}/interactions/save/${itemId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.message);\r\n      }\r\n\r\n      // Reload saved items after saving\r\n      await get().loadSavedItems();\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to save item',\r\n      });\r\n      throw error;\r\n    }\r\n  },\r\n}));"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}